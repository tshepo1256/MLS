"use strict";(self.webpackChunkcase_management_system=self.webpackChunkcase_management_system||[]).push([[755],{3755:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Ae});var o=t(9379),r=t(5043),i=t(6446),a=t(5865),s=t(1906),l=t(8903),c=t(2110),d=t(9650),u=t(1806),h=t(4882),m=t(8076),A=t(39),v=t(3460),x=t(3845),p=t(7392),f=t(1081),g=t(6600),j=t(5316),C=t(8533),y=t(9347),w=t(5795),b=t(3193),S=t(9190),k=t(2221),D=t(2143),E=t(8587),L=t(8168),R=t(8610),M=t(9921),I=t(3462),N=t(1782),O=t(1668),W=t(579);function P(e){return e.substring(2).toLowerCase()}function T(e){const{children:n,disableReactTree:t=!1,mouseEvent:o="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,s=r.useRef(!1),l=r.useRef(null),c=r.useRef(!1),d=r.useRef(!1);r.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const u=(0,I.A)(n.ref,l),h=(0,N.A)((e=>{const n=d.current;d.current=!1;const o=(0,O.A)(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}(e,o))return;if(s.current)return void(s.current=!1);let r;r=e.composedPath?e.composedPath().indexOf(l.current)>-1:!o.documentElement.contains(e.target)||l.current.contains(e.target),r||!t&&n||i(e)})),m=e=>t=>{d.current=!0;const o=n.props[e];o&&o(t)},A={ref:u};return!1!==a&&(A[a]=m(a)),r.useEffect((()=>{if(!1!==a){const e=P(a),n=(0,O.A)(l.current),t=()=>{s.current=!0};return n.addEventListener(e,h),n.addEventListener("touchmove",t),()=>{n.removeEventListener(e,h),n.removeEventListener("touchmove",t)}}}),[h,a]),!1!==o&&(A[o]=m(o)),r.useEffect((()=>{if(!1!==o){const e=P(o),n=(0,O.A)(l.current);return n.addEventListener(e,h),()=>{n.removeEventListener(e,h)}}}),[h,o]),(0,W.jsx)(r.Fragment,{children:r.cloneElement(n,A)})}var z=t(9303),V=t(3728);var B=t(5658),F=t(6240),H=t(7864),q=t(6803),J=t(6328),U=t(8387),_=t(4794),X=t(3336),G=t(2532),Z=t(2372);function K(e){return(0,Z.Ay)("MuiSnackbarContent",e)}(0,G.A)("MuiSnackbarContent",["root","message","action"]);const Q=["action","className","message","role"],Y=(0,B.Ay)(X.A,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,n)=>n.root})((e=>{let{theme:n}=e;const t="light"===n.palette.mode?.8:.98,o=(0,_.tL)(n.palette.background.default,t);return(0,L.A)({},n.typography.body2,{color:n.vars?n.vars.palette.SnackbarContent.color:n.palette.getContrastText(o),backgroundColor:n.vars?n.vars.palette.SnackbarContent.bg:o,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,flexGrow:1,[n.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),$=(0,B.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,n)=>n.message})({padding:"8px 0"}),ee=(0,B.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,n)=>n.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ne=r.forwardRef((function(e,n){const t=(0,H.A)({props:e,name:"MuiSnackbarContent"}),{action:o,className:r,message:i,role:a="alert"}=t,s=(0,E.A)(t,Q),l=t,c=(e=>{const{classes:n}=e;return(0,R.A)({root:["root"],action:["action"],message:["message"]},K,n)})(l);return(0,W.jsxs)(Y,(0,L.A)({role:a,square:!0,elevation:6,className:(0,U.A)(c.root,r),ownerState:l,ref:n},s,{children:[(0,W.jsx)($,{className:c.message,ownerState:l,children:i}),o?(0,W.jsx)(ee,{className:c.action,ownerState:l,children:o}):null]}))}));function te(e){return(0,Z.Ay)("MuiSnackbar",e)}(0,G.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const oe=["onEnter","onExited"],re=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],ie=(0,B.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n["anchorOrigin".concat((0,q.A)(t.anchorOrigin.vertical)).concat((0,q.A)(t.anchorOrigin.horizontal))]]}})((e=>{let{theme:n,ownerState:t}=e;return(0,L.A)({zIndex:(n.vars||n).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===t.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===t.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===t.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[n.breakpoints.up("sm")]:(0,L.A)({},"top"===t.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===t.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===t.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===t.anchorOrigin.horizontal&&{right:24,left:"auto"})})})),ae=r.forwardRef((function(e,n){const t=(0,H.A)({props:e,name:"MuiSnackbar"}),o=(0,F.A)(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:u,ClickAwayListenerProps:h,ContentProps:m,disableWindowBlurListener:A=!1,message:v,open:x,TransitionComponent:p=J.A,transitionDuration:f=i,TransitionProps:{onEnter:g,onExited:j}={}}=t,C=(0,E.A)(t.TransitionProps,oe),y=(0,E.A)(t,re),w=(0,L.A)({},t,{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:c,disableWindowBlurListener:A,TransitionComponent:p,transitionDuration:f}),b=(e=>{const{classes:n,anchorOrigin:t}=e,o={root:["root","anchorOrigin".concat((0,q.A)(t.vertical)).concat((0,q.A)(t.horizontal))]};return(0,R.A)(o,te,n)})(w),{getRootProps:S,onClickAway:k}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:n=null,disableWindowBlurListener:t=!1,onClose:o,open:i,resumeHideDuration:a}=e,s=(0,z.A)();r.useEffect((()=>{if(i)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[i,o]);const l=(0,N.A)(((e,n)=>{null==o||o(e,n)})),c=(0,N.A)((e=>{o&&null!=e&&s.start(e,(()=>{l(null,"timeout")}))}));r.useEffect((()=>(i&&c(n),s.clear)),[i,n,c,s]);const d=s.clear,u=r.useCallback((()=>{null!=n&&c(null!=a?a:.5*n)}),[n,a,c]),h=e=>n=>{const t=e.onFocus;null==t||t(n),d()},m=e=>n=>{const t=e.onMouseEnter;null==t||t(n),d()},A=e=>n=>{const t=e.onMouseLeave;null==t||t(n),u()};return r.useEffect((()=>{if(!t&&i)return window.addEventListener("focus",u),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",u),window.removeEventListener("blur",d)}}),[t,i,u,d]),{getRootProps:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,L.A)({},(0,V.h)(e),(0,V.h)(n));return(0,L.A)({role:"presentation"},n,t,{onBlur:(o=t,e=>{const n=o.onBlur;null==n||n(e),u()}),onFocus:h(t),onMouseEnter:m(t),onMouseLeave:A(t)});var o},onClickAway:e=>{null==o||o(e,"clickaway")}}}((0,L.A)({},w)),[D,I]=r.useState(!0),O=(0,M.Q)({elementType:ie,getSlotProps:S,externalForwardedProps:y,ownerState:w,additionalProps:{ref:n},className:[b.root,u]});return!x&&D?null:(0,W.jsx)(T,(0,L.A)({onClickAway:k},h,{children:(0,W.jsx)(ie,(0,L.A)({},O,{children:(0,W.jsx)(p,(0,L.A)({appear:!0,in:x,timeout:f,direction:"top"===s?"down":"up",onEnter:(e,n)=>{I(!1),g&&g(e,n)},onExited:e=>{I(!0),j&&j(e)}},C,{children:d||(0,W.jsx)(ne,(0,L.A)({message:v,action:a},m))}))}))}))}));var se=t(7254),le=t(141),ce=t(7968),de=t(5874),ue=t(3560),he=t(3768);const me=[{id:"INV-2024-001",client:"John Smith",matter:"Smith vs. Johnson",amount:75e3,date:"2024-03-20",dueDate:"2024-04-19",status:"pending"},{id:"INV-2024-002",client:"Sarah Williams",matter:"Williams Estate",amount:52500,date:"2024-03-18",dueDate:"2024-04-17",status:"paid"},{id:"INV-2024-003",client:"Michael Chen",matter:"Chen Contract Review",amount:42e3,date:"2024-03-15",dueDate:"2024-04-14",status:"overdue"}],Ae=()=>{const[e,n]=(0,r.useState)(!1),[t,E]=(0,r.useState)(null),[L,R]=(0,r.useState)(!1),[M,I]=(0,r.useState)(null),[N,O]=(0,r.useState)(me),[P,T]=(0,r.useState)({open:!1,message:"",severity:"success"}),z=function(){E(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),n(!0)},V=()=>{E(null),n(!1)},B=e=>{switch(e){case"paid":return"success";case"pending":return"warning";case"overdue":return"error";default:return"default"}};return(0,W.jsxs)(i.A,{sx:{p:3},children:[(0,W.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",mb:4},children:[(0,W.jsx)(a.A,{variant:"h4",children:"Invoices"}),(0,W.jsx)(s.A,{variant:"contained",startIcon:(0,W.jsx)(le.A,{}),onClick:()=>z(),children:"Create Invoice"})]}),(0,W.jsx)(l.Ay,{container:!0,spacing:3,children:(0,W.jsx)(l.Ay,{item:!0,xs:12,children:(0,W.jsx)(c.A,{children:(0,W.jsx)(d.A,{children:(0,W.jsxs)(u.A,{children:[(0,W.jsx)(h.A,{children:(0,W.jsxs)(m.A,{children:[(0,W.jsx)(A.A,{children:"Invoice #"}),(0,W.jsx)(A.A,{children:"Client"}),(0,W.jsx)(A.A,{children:"Matter"}),(0,W.jsx)(A.A,{align:"right",children:"Amount"}),(0,W.jsx)(A.A,{children:"Date"}),(0,W.jsx)(A.A,{children:"Due Date"}),(0,W.jsx)(A.A,{children:"Status"}),(0,W.jsx)(A.A,{align:"right",children:"Actions"})]})}),(0,W.jsx)(v.A,{children:N.map((e=>{return(0,W.jsxs)(m.A,{children:[(0,W.jsx)(A.A,{children:e.id}),(0,W.jsx)(A.A,{children:e.client}),(0,W.jsx)(A.A,{children:e.matter}),(0,W.jsx)(A.A,{align:"right",children:(n=e.amount,new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(n))}),(0,W.jsx)(A.A,{children:new Date(e.date).toLocaleDateString()}),(0,W.jsx)(A.A,{children:new Date(e.dueDate).toLocaleDateString()}),(0,W.jsx)(A.A,{children:(0,W.jsx)(x.A,{label:e.status,color:B(e.status),size:"small"})}),(0,W.jsxs)(A.A,{align:"right",children:[(0,W.jsx)(p.A,{color:"primary",onClick:()=>(e=>{console.log("Downloading invoice:",e.id);const n={invoiceNumber:e.id,client:e.client,matter:e.matter,amount:e.amount,date:e.date,dueDate:e.dueDate,items:[{description:"Legal Services",hours:10,rate:e.amount/10},{description:"Court Fees",amount:.1*e.amount}]},t=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),o=URL.createObjectURL(t),r=document.createElement("a");r.href=o,r.download="invoice-".concat(e.id,".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)})(e),title:"Download Invoice",children:(0,W.jsx)(ce.A,{})}),(0,W.jsx)(p.A,{color:"primary",onClick:()=>(e=>{console.log("Sending invoice:",e.id);const n={to:"".concat(e.client.toLowerCase().replace(/\s+/g,"."),"@example.com"),subject:"Invoice #".concat(e.id," for ").concat(e.matter),attachments:["invoice-".concat(e.id,".pdf")]};T({open:!0,message:"Invoice #".concat(e.id," sent to ").concat(n.to),severity:"success"})})(e),title:"Send Invoice",children:(0,W.jsx)(de.A,{})}),(0,W.jsx)(p.A,{color:"primary",onClick:()=>z(e),title:"Edit Invoice",children:(0,W.jsx)(ue.A,{})}),(0,W.jsx)(p.A,{color:"error",onClick:()=>(e=>{I(e),R(!0)})(e),title:"Delete Invoice",children:(0,W.jsx)(he.A,{})})]})]},e.id);var n}))})]})})})})}),(0,W.jsxs)(f.A,{open:L,onClose:()=>R(!1),children:[(0,W.jsx)(g.A,{children:"Confirm Delete"}),(0,W.jsx)(j.A,{children:(0,W.jsx)(C.A,{children:"Are you sure you want to delete this invoice? This action cannot be undone."})}),(0,W.jsxs)(y.A,{children:[(0,W.jsx)(s.A,{onClick:()=>R(!1),children:"Cancel"}),(0,W.jsx)(s.A,{onClick:()=>{O(N.filter((e=>e.id!==M.id))),R(!1),I(null)},color:"error",variant:"contained",children:"Delete"})]})]}),(0,W.jsxs)(f.A,{open:e,onClose:V,maxWidth:"md",fullWidth:!0,children:[(0,W.jsx)(g.A,{children:t?"Edit Invoice":"Create New Invoice"}),(0,W.jsx)(j.A,{children:(0,W.jsxs)(l.Ay,{container:!0,spacing:3,sx:{mt:1},children:[(0,W.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,W.jsx)(w.A,{fullWidth:!0,label:"Invoice Number",defaultValue:null===t||void 0===t?void 0:t.id,disabled:!!t})}),(0,W.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,W.jsxs)(b.A,{fullWidth:!0,children:[(0,W.jsx)(S.A,{children:"Client"}),(0,W.jsxs)(k.A,{label:"Client",defaultValue:(null===t||void 0===t?void 0:t.client)||"",children:[(0,W.jsx)(D.A,{value:"John Smith",children:"John Smith"}),(0,W.jsx)(D.A,{value:"Sarah Williams",children:"Sarah Williams"}),(0,W.jsx)(D.A,{value:"Michael Chen",children:"Michael Chen"})]})]})}),(0,W.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,W.jsxs)(b.A,{fullWidth:!0,children:[(0,W.jsx)(S.A,{children:"Matter"}),(0,W.jsxs)(k.A,{label:"Matter",defaultValue:(null===t||void 0===t?void 0:t.matter)||"",children:[(0,W.jsx)(D.A,{value:"Smith vs. Johnson",children:"Smith vs. Johnson"}),(0,W.jsx)(D.A,{value:"Williams Estate",children:"Williams Estate"}),(0,W.jsx)(D.A,{value:"Chen Contract Review",children:"Chen Contract Review"})]})]})}),(0,W.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,W.jsx)(w.A,{fullWidth:!0,label:"Amount",type:"number",defaultValue:null===t||void 0===t?void 0:t.amount,InputProps:{startAdornment:"$"}})}),(0,W.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,W.jsx)(w.A,{fullWidth:!0,label:"Invoice Date",type:"date",defaultValue:null===t||void 0===t?void 0:t.date,InputLabelProps:{shrink:!0}})}),(0,W.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,W.jsx)(w.A,{fullWidth:!0,label:"Due Date",type:"date",defaultValue:null===t||void 0===t?void 0:t.dueDate,InputLabelProps:{shrink:!0}})}),(0,W.jsx)(l.Ay,{item:!0,xs:12,children:(0,W.jsxs)(b.A,{fullWidth:!0,children:[(0,W.jsx)(S.A,{children:"Status"}),(0,W.jsxs)(k.A,{label:"Status",defaultValue:(null===t||void 0===t?void 0:t.status)||"pending",children:[(0,W.jsx)(D.A,{value:"pending",children:"Pending"}),(0,W.jsx)(D.A,{value:"paid",children:"Paid"}),(0,W.jsx)(D.A,{value:"overdue",children:"Overdue"})]})]})})]})}),(0,W.jsxs)(y.A,{children:[(0,W.jsx)(s.A,{onClick:V,children:"Cancel"}),(0,W.jsx)(s.A,{variant:"contained",onClick:()=>{const e={client:document.querySelector('[name="client"]').value,matter:document.querySelector('[name="matter"]').value,amount:parseFloat(document.querySelector('[name="amount"]').value),date:document.querySelector('[name="date"]').value,dueDate:document.querySelector('[name="dueDate"]').value,status:document.querySelector('[name="status"]').value};t?(e=>{O(N.map((n=>n.id===t.id?(0,o.A)((0,o.A)({},n),e):n))),V()})(e):(e=>{const n=(0,o.A)({id:"INV-2024-".concat(String(N.length+1).padStart(3,"0"))},e);O([n,...N]),V()})(e)},children:t?"Update Invoice":"Create Invoice"})]})]}),(0,W.jsx)(ae,{open:P.open,autoHideDuration:6e3,onClose:()=>T((0,o.A)((0,o.A)({},P),{},{open:!1})),children:(0,W.jsx)(se.A,{onClose:()=>T((0,o.A)((0,o.A)({},P),{},{open:!1})),severity:P.severity,sx:{width:"100%"},children:P.message})})]})}},7968:(e,n,t)=>{t.d(n,{A:()=>i});var o=t(6734),r=t(579);const i=(0,o.A)((0,r.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},5874:(e,n,t)=>{t.d(n,{A:()=>i});var o=t(6734),r=t(579);const i=(0,o.A)((0,r.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},2110:(e,n,t)=>{t.d(n,{A:()=>p});var o=t(8168),r=t(8587),i=t(5043),a=t(8387),s=t(8610),l=t(5658),c=t(7864),d=t(3336),u=t(2532),h=t(2372);function m(e){return(0,h.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var A=t(579);const v=["className","raised"],x=(0,l.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,n)=>n.root})((()=>({overflow:"hidden"}))),p=i.forwardRef((function(e,n){const t=(0,c.A)({props:e,name:"MuiCard"}),{className:i,raised:l=!1}=t,d=(0,r.A)(t,v),u=(0,o.A)({},t,{raised:l}),h=(e=>{const{classes:n}=e;return(0,s.A)({root:["root"]},m,n)})(u);return(0,A.jsx)(x,(0,o.A)({className:(0,a.A)(h.root,i),elevation:l?8:void 0,ref:n,ownerState:u},d))}))},8533:(e,n,t)=>{t.d(n,{A:()=>p});var o=t(8587),r=t(8168),i=t(5043),a=t(8387),s=t(8610),l=t(5658),c=t(7864),d=t(5865),u=t(2532),h=t(2372);function m(e){return(0,h.Ay)("MuiDialogContentText",e)}(0,u.A)("MuiDialogContentText",["root"]);var A=t(579);const v=["children","className"],x=(0,l.Ay)(d.A,{shouldForwardProp:e=>(0,l.ep)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,n)=>n.root})({}),p=i.forwardRef((function(e,n){const t=(0,c.A)({props:e,name:"MuiDialogContentText"}),{className:i}=t,l=(0,o.A)(t,v),d=(e=>{const{classes:n}=e,t=(0,s.A)({root:["root"]},m,n);return(0,r.A)({},n,t)})(l);return(0,A.jsx)(x,(0,r.A)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:l,className:(0,a.A)(d.root,i)},t,{classes:d}))}))},6600:(e,n,t)=>{t.d(n,{A:()=>x});var o=t(8168),r=t(8587),i=t(5043),a=t(8387),s=t(8610),l=t(5865),c=t(5658),d=t(7864),u=t(7034),h=t(2563),m=t(579);const A=["className","id"],v=(0,c.Ay)(l.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,n)=>n.root})({padding:"16px 24px",flex:"0 0 auto"}),x=i.forwardRef((function(e,n){const t=(0,d.A)({props:e,name:"MuiDialogTitle"}),{className:l,id:c}=t,x=(0,r.A)(t,A),p=t,f=(e=>{const{classes:n}=e;return(0,s.A)({root:["root"]},u.t,n)})(p),{titleId:g=c}=i.useContext(h.A);return(0,m.jsx)(v,(0,o.A)({component:"h2",className:(0,a.A)(f.root,l),ownerState:p,ref:n,variant:"h6",id:null!=c?c:g},x))}))}}]);
//# sourceMappingURL=755.e56685f7.chunk.js.map